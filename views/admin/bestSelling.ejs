<div class="container mx-auto px-4">
    <div class="best-seller mt-4 mb-5 p-4 rounded shadow-sm bg-white">
        <h1 class="mb-4 text-xl font-bold">Best Sellers</h1>

        <!-- Best Seller Products -->
        <section class="best-sellers-section mb-5">
            <h4 class="section-title text-center mb-3 text-lg font-semibold">Best Seller Products</h4>
            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
                <% if(bestProducts){ %>
                    <% bestProducts.forEach((product, index) => { %>
                        <% if (product) { %>
                            <div class="bg-white rounded-lg shadow p-4 flex flex-col items-center">
                                <!-- Optional: Display index -->
                                <!-- <h5 class="text-sm font-medium">
                                    <%= index + 1 %>
                                </h5> -->
                                <div class="mt-3">
                                    <img src="<%= product.productImage[0] %>" class="w-32 h-32 object-cover rounded"
                                        alt="<%= product.productName %>">
                                </div>
                                <div class="card-body text-center mt-3">
                                    <h5 class="text-lg font-medium">
                                        <%= product.productName %>
                                    </h5>
                                    <h5 class="text-lg font-bold text-green-600">
                                        &#8377; <%= product.productPrice %>
                                    </h5>
                                </div>
                            </div>
                        <% } %>
                    <% }) %>
                <% } else { %>
                    <h1 class="text-center text-red-500 text-xl font-semibold">
                        No Product Found
                    </h1>
                <% } %>
            </div>
        </section>

        <!-- Best Seller Category Section -->
        <section class="best-sellers-section">
            <h4 class="section-title text-center mb-3 text-lg font-semibold">Best Seller Category</h4>
            <ul class="list-disc pl-5">
                <% if(bestCategory) { %>
                    <% for (let Category of bestCategory.keys()) { %>
                        <li class="text-gray-700 text-base">
                            <%= Category %>
                        </li>
                    <% } %>
                <% } %>
            </ul>
        </section>

        <!-- Detailed Brand Analytics -->
<div class="mt-8">
    <h3 class="text-lg font-semibold mb-4">Brand Performance Analytics</h3>
    <div class="overflow-x-auto">
        <table class="min-w-full bg-white">
            <thead>
                <tr>
                    <th class="px-6 py-3 border-b">Brand</th>
                    <th class="px-6 py-3 border-b">Total Sales Price</th>
                    <th class="px-6 py-3 border-b">Units Sold</th>
                    <th class="px-6 py-3 border-b">Avg. Price</th>
                </tr>
            </thead>
            <tbody>
                <% brandAnalytics.forEach(brand => { %>
                    <tr>
                        <td class="px-6 py-4 border-b"><%= brand.brandName %></td>
                        <td class="px-6 py-4 border-b">₹<%= brand.totalSales.toFixed(2) %></td>
                        <td class="px-6 py-4 border-b"><%= brand.totalQuantity %></td>
                        <td class="px-6 py-4 border-b">₹<%= brand.averagePrice.toFixed(2) %></td>
                    </tr>
                <% }) %>
            </tbody>
        </table>
    </div>
</div>
    </div>
</div>
